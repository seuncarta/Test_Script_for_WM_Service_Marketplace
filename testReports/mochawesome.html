<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:1,&quot;passes&quot;:0,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2023-03-23T10:29:36.993Z&quot;,&quot;end&quot;:&quot;2023-03-23T10:30:45.738Z&quot;,&quot;duration&quot;:68745,&quot;testsRegistered&quot;:1,&quot;passPercent&quot;:0,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;11ef5f9b-b73b-441a-85c5-7008fbbfd068&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\USER\\Desktop\\Test_Script_for_WM_Service_Marjetplace\\TestSuite4\\testscript2.js&quot;,&quot;file&quot;:&quot;\\TestSuite4\\testscript2.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1ecfb831-deb5-4716-be65-9c61daf8e2a0&quot;,&quot;title&quot;:&quot;Booking a Service&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\USER\\Desktop\\Test_Script_for_WM_Service_Marjetplace\\TestSuite4\\testscript2.js&quot;,&quot;file&quot;:&quot;\\TestSuite4\\testscript2.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Book a service with add-on selected&quot;,&quot;fullTitle&quot;:&quot;Booking a Service Book a service with add-on selected&quot;,&quot;duration&quot;:67997,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let driver = await new Builder().forBrowser(\&quot;chrome\&quot;).build();\n        await driver.manage().window().maximize();\n        //Sign in\n        await driver.get(\&quot;https://wmservicemp.thewealthmarket.com/#/authentication/signin\&quot;);\n        // await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/div/app-header/header/nav/ul/li/a\&quot;)).click();\n        await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-authentication/app-signin/div/div/div/div/form/div[1]/div/div[1]/div/input\&quot;)).sendKeys(\&quot;admin@thewealthmarket.com\&quot;);\n        await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-authentication/app-signin/div/div/div/div/form/div[1]/div/div[2]/div/input\&quot;)).sendKeys(\&quot;admin\&quot;);\n        await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-authentication/app-signin/div/div/div/div/form/div[2]/button\&quot;)).click();\n        // Wait for the home page to load\n        await driver.wait(until.urlIs(&#x27;https://wmservicemp.thewealthmarket.com/#/index&#x27;), 5000);\n        const bookAService = await driver.findElement(By.xpath(&#x27;/html/body/app-root/div[1]/div/app-header/header/nav/div[2]/ul/li[3]/a&#x27;));\n        await bookAService.click();\n        //Wait for 5 seconds for the page to load\n        await driver.manage().setTimeouts({ implicit: 5000 });\n        //Click on a service to see the detail and book it. I choose the 2th service on the page at random\n        await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-listings/div[2]/div/div/div[2]/div[2]/div/div[2]/div/div[2]/h3/a\&quot;)).click();\n        //Wait for 5 seconds for the page to load\n        await driver.manage().setTimeouts({ implicit: 5000 });\n        //Add the first add-on on the add-on section\n        await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[1]/div/div/div[2]/div/section[2]/div/div/div/div/div[1]/div/div/label/input\&quot;)).click();\n        let servicePrice = await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[1]/div/div/div[2]/div/section[1]/div/div/span\&quot;)).getText();\n        //convert the service price from string to number\n        servicePrice = parseFloat(servicePrice.replace(/[^\\d.-]/g, &#x27;&#x27;));\n        console.log(servicePrice);\n        let addOnPrice = await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[1]/div/div/div[2]/div/section[2]/div/div/div/div/div[2]/ul/li\&quot;)).getText();\n        addOnPrice = parseFloat(addOnPrice.replace(/[^\\d.-]/g, &#x27;&#x27;));\n        console.log(addOnPrice);\n        let serviceTotalPrice = await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[1]/div/div/div[2]/div/section[3]/div/div/div[2]/div[2]/h5\&quot;)).getText();\n        //convert the service price from string to number\n        serviceTotalPrice = parseFloat(serviceTotalPrice.replace(/[^\\d.-]/g, &#x27;&#x27;));\n        console.log(serviceTotalPrice);\n        assert.ok(serviceTotalPrice == (servicePrice+addOnPrice), `${servicePrice+addOnPrice} This should be the total service Price with addon included`)\n        //Book Now\n        await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[1]/div/div/div[2]/div/section[3]/div/div/div[3]/a\&quot;)).click();\n        //Wait for 5 seconds for the page to load\n        await driver.manage().setTimeouts({ implicit: 5000 });\n        //Order confirmation page/module pop up\n        // WM user Id\n        let WMuserID = await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[2]/div/div/div[2]/div/form/div/div[2]/input\&quot;)).getText(); // This is empty\n        assert.notStrictEqual(WMuserID.trim(), &#x27;&#x27;, &#x27;The WM user Id field on the order confirmation page to not be empty&#x27;);\n        //confirm the price on the confirmation page is the same as the total service price \n        let priceOnConfrimationPage = await driver.findElement(By.xpath(\&quot;\&quot;)); //No price on the confirmation page yet\n        assert.ok(priceOnConfrimationPage &gt;= serviceTotalPrice, &#x27;No price on the confirmation page&#x27;)\n        // priceOnConfrimationPage.should.equal(serviceTotalPrice);\n        //Order id \n        let orderID = await driver.findElement(By.xpath(\&quot;\&quot;)); //No order Id on the confirmation page yet\n        assert.notStrictEqual(orderID.trim(), &#x27;&#x27;, &#x27;The order Id field should not be empty&#x27;);\n        //Confrim order and proceed, we click yes.\n        let yes = await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[2]/div/div/div[3]/button[1]\&quot;)).click();\n        let no = await driver.findElement(By.xpath(\&quot;/html/body/app-root/div[1]/app-pages/app-service-details/div[2]/div/div/div[3]/button[2]\&quot;));&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: The WM user Id field on the order confirmation page to not be empty: expected &#x27;&#x27; to not equal &#x27;&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: The WM user Id field on the order confirmation page to not be empty: expected &#x27;&#x27; to not equal &#x27;&#x27;\n    at Context.&lt;anonymous&gt; (TestSuite4\\testscript2.js:120:16)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)&quot;,&quot;diff&quot;:&quot;&quot;},&quot;uuid&quot;:&quot;53419fcd-0533-420d-8759-25c57f01e22f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;53419fcd-0533-420d-8759-25c57f01e22f&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:67997,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:0}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;testReports&quot;,&quot;&quot;:true},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;testReports&quot;,&quot;reportTitle&quot;:&quot;Test_Script_for_WM_Service_Marjetplace&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;testReports\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\USER\\Desktop\\Test_Script_for_WM_Service_Marjetplace\\testReports\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\USER\\Desktop\\Test_Script_for_WM_Service_Marjetplace\\testReports\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>